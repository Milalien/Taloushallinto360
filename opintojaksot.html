<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>Taloushallinto360</title>
  <link rel="icon" type="image/x-icon"
    href="images/logo_00_white_taloushallinnon-taituri_corners5.png" />
  <!-- MDB -->
  <link rel="stylesheet" href="css/mdb.min.css" />
  <link rel="stylesheet" href="css/style.css" />
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
</head>

<body>
  <div class="page">
    <header>
      <!-- TIETOKONE-NÄKYMÄN YLÄVALIKKO -->
      <nav class="navbar navbar-expand-lg d-none d-lg-flex fixed-top">
        <div class="container-fluid ">
          
            <a class="navbar-brand" href="aloitus.html">
              <img src="images/logo_00_color_taloushallinnon-taituri_corners5.png"
                height="48px" />
            </a>
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="case1.html">Saimaa Account Oy</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="case2.html">Eevan Nakkikioski Tmi</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="case3.html">Kalustetalo Tyynelä Oy</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="case4.html">Golfkauppa Ranta Oy</a>
            </li>
          </ul>

          <ul class="navbar-nav">
            <li class="nav-item last">
              <a class="nav-link active" href="opintojaksot.html"><img
                  src="images/logo_05_opintojaksot.png" width="24px">Opintojaksot ja polut</a>
            </li>
          </ul>
        </div>
      </nav>
      <!-- MOBIILI-NÄKYMÄN YLÄVALIKKO -->
      <nav class="navbar fixed-top d-lg-none" id="mobilenav">
          <a class="navbar-brand" href="aloitus.html">
            <img src="images/logo_00_color_taloushallinnon-taituri_corners5.png" height="48px" />
          </a>
      
        <ul class="navbar-nav">
          <li data-mdb-ripple-init class="nav-item">
            <a class="nav-link" href="case1.html">Saimaa Account Oy</a>
          </li>
          <li data-mdb-ripple-init class="nav-item">
            <a class="nav-link" href="case2.html">Eevan Nakkikioski Tmi</a>
          </li>

          <li data-mdb-ripple-init class="nav-item">
            <a class="nav-link" href="case3.html">Kalustetehdas Tyynelä Oy</a>
          </li>

          <li data-mdb-ripple-init class="nav-item">
            <a class="nav-link" href="case4.html">Golfkauppa Ranta Oy</a>
          </li>
          <li data-mdb-ripple-init class="nav-item">
            <a class="nav-link active" href="opintojaksot.html"><img src="images/logo_05_opintojaksot.png" height="24px">Opintojaksot ja polut</a>
          </li>
        </ul>
  
      </nav>
    </header>
<!-- PÄÄSISÄLTÖ -->
    <div class="main align-items-center">

      <div class="accordion" id="opintojaksot">
        <!--TÄHÄN TIEDOSTON ALAOSASSA OLEVA JAVASCRIPT KIRJOITTAA SISÄLLÖN, JOKA HAETAAN CONFIG.JSON TIEDOSTOSTA-->
      </div>

    
      <div class="accordion" id="polut">
        <div class="accordion-item head">
            <h2 class="accordion-header">
              Minkälainen on sinun opintopolkusi?
            </h2>
            
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="ph1">
            <button data-mdb-collapse-init class="accordion-button collapsed" type="button" data-mdb-target="#p1"
              aria-expanded="false" aria-controls="p1">
            
            </button>
          </h2>
         
        </div>
        
       
        <div class="accordion-item bottom">      
        </div>
      </div>
  
    </div>
<!-- FOOTER -->
    <div class="footer">

    <footer>
            <div class="row">
                 <div class="col-6 d-flex justify-content-start">
                    © 2025 Lab-ammattikorkeakoulu Oy. Kaikki oikeudet pidätetään.
                </div>

                <div class="col-6 d-none d-md-flex justify-content-end">
                        <a href="tietoa.html">Tietoa projektista</a>
                        <a href="aloitus.html">Home</a>
                </div>
                <div id="mobilefooter" class="col d-flex d-md-none justify-content-end">
                    <div class="row text-end">
                        
                        <a href="tietoa.html">Tietoa projektista</a>
                        <a href="aloitus.html">Home</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="js/mdb.umd.min.js"></script>
  <!-- JAVASCRIPT TIETOJEN HAKUUN JSON:STA -->
  <script type="text/javascript">
    function fetchJSONData() {
    fetch('./config.json')
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
        })
        .then((data) => {
          let kaikkitehtavat = [];
          const case1 = data.case1tehtavat;
          const case2 = data.case2tehtavat;
          const case3 = data.case3tehtavat;
          const case4 = data.case4tehtavat;
          
          case1.forEach(tehtava => {
            kaikkitehtavat.push(tehtava);
          });
          case2.forEach(tehtava => {
            kaikkitehtavat.push(tehtava);
          });
          case3.forEach(tehtava => {
            kaikkitehtavat.push(tehtava);
          });
          case4.forEach(tehtava => {
            kaikkitehtavat.push(tehtava);
          });
          
          const ops = data.OPSlinkit;
          const opinnot = data.opinnot;
          let opintojaksot = `
        <div class="accordion-item head">
          
            <h1 class="accordion-header">
              Taloushallinnon opintojaksot
            </h1>
          
        </div>`;

        for (var x = 0; x < opinnot.length; x++) {
          opintojaksot += ` <div class="accordion-item">
          <h2 class="accordion-header" id="heading${x}">
            <button data-mdb-collapse-init class="accordion-button collapsed" type="button" data-mdb-target="#j${x}"
              aria-expanded="false" aria-controls="j${x}">
              ${opinnot[x].osuus}
            </button>
          </h2>
          <div id="j${x}" class="accordion-collapse collapse" aria-labelledby="heading${x}">
            <div class="accordion-body col">`;
              if(opinnot[x].opintopaketit.length > 0) {
                for (var y = 0; y < opinnot[x].opintopaketit.length; y++) {
                  if(opinnot[x].opintopaketit[y].nimi != ""){
                  opintojaksot += `<div class="row">
                      <p><strong>${opinnot[x].opintopaketit[y].nimi}</strong></p>
                    </div>`;}
                for(var z = 0; z < opinnot[x].opintopaketit[y].opintojaksot.length; z++) {
                  opintojaksot += `<div class="row indent">
                <div class="col">${opinnot[x].opintopaketit[y].opintojaksot[z].jakso} ${opinnot[x].opintopaketit[y].opintojaksot[z].opintopisteet}</div>
                <div class="col-md d-flex justify-content-md-end">`;
                  for(var i = 0; i < kaikkitehtavat.length; i++) {
                    if(kaikkitehtavat[i].opintojakso == opinnot[x].opintopaketit[y].opintojaksot[z].jakso) {
                      opintojaksot += `<img src="`+ kaikkitehtavat[i].ikoni +`" width="40px">`;
                    }  
                  }
                  opintojaksot += `</div>
              </div>`;
                }
          }}
              
           opintojaksot += `</div>
          </div>
        </div>`;
        }
        opintojaksot += `<div class="accordion-item">
          
         
            <div class="accordion-body linkit">`;
                for(var i = 0; i < ops.length; i++) {
                  opintojaksot += `
                    Katso OPS tiedot: <a href="`+ops[i].linkki+`" target="_blank">${ops[i].nimi}</a><br>
                  `;
                }
            opintojaksot += `</div>
         
        </div>`;

        document.getElementById('opintojaksot').innerHTML = opintojaksot;


        let opintopolut = `
        <div class="accordion-item head">
            <h2 class="accordion-header">
              Minkälainen on sinun opintopolkusi?
            </h2>
        </div>`;
        const polut = data.opintopolut;
        for (var x = 0; x < polut.length; x++) {
          opintopolut += `<div class="accordion-item">
            <h2 class="accordion-header" id="ph${x}">
            <button data-mdb-collapse-init class="accordion-button collapsed" type="button" data-mdb-target="#p${x}"
              aria-expanded="false" aria-controls="p${x}">
            <div class="row w-100">
                <div class="col-1">
                <span class="polkuikoni">
                  <img
                    src="images/icon_page_opintojaksot_arrow_last.png"
                    height="36px"></span></div>
                <div class="col-10">
                  ${polut[x].nimi}
                </div></div>
            </button>
          </h2>
          
          <div id="p${x}" class="accordion-collapse collapse" aria-labelledby="ph${x}">
            <div class="accordion-body">
              ${polut[x].kuvaus}
              <h6 class="alaotsikko">MITÄ PÄÄSET TEKEMÄÄN?</h6><ul>`;
              for(var i = 0; i < polut[x].tehtavat.length; i++) {
                opintopolut += `
                  <li>${polut[x].tehtavat[i]}</li>
                `;
              }
              opintopolut += `</ul><h6 class="alaotsikko">MISSÄ VOIT TYÖSKENNELLÄ?</h6><ul>`;
              for(var i = 0; i < polut[x].tyot.length; i++) {
                opintopolut += `
                  <li>${polut[x].tyot[i]}</li>
                `;
              }
              opintopolut += `</ul><h6 class="alaotsikko">KESKEISET TALOUSHALLINNON OSAAMISTARPEET</h6><ul>`;
              for(var i = 0; i < polut[x].osaamistarpeet.length; i++) {
                opintopolut += `
                  <li>${polut[x].osaamistarpeet[i]}</li>
                `;
              }
              opintopolut += `</ul><h6 class="alaotsikko">LABin OPINTOJAKSOT</h6><ul>`;
              for(var i = 0; i < polut[x].opintojaksot.length; i++) {
                opintopolut += `<li><strong>${polut[x].opintojaksot[i].osuus}</strong></li>
                <ul>`;
                   for(var o = 0; o < polut[x].opintojaksot[i].opintopaketit.length; o++){
                    if(polut[x].opintojaksot[i].opintopaketit[o].nimi != ""){
                      opintopolut += `<li>${polut[x].opintojaksot[i].opintopaketit[o].nimi}</li>
                      `;
                    } 
                    opintopolut += `<ul>`;
                    
                      
                      for(var z = 0; z < polut[x].opintojaksot[i].opintopaketit[o].jaksot.length; z++) {
                        opintopolut += `<li>${polut[x].opintojaksot[i].opintopaketit[o].jaksot[z]}</li>`;
                      }
                      opintopolut += `</ul>`;
                   }
                 opintopolut += `</ul>`;
              }



              opintopolut += `</ul></div></div></div>`;

        }
          opintopolut += `<div class="accordion-item bottom">      
        </div>`;
          document.getElementById('polut').innerHTML = opintopolut;

            
        })
        .catch(error => console.error('Failed to fetch data:', error));
      }
      fetchJSONData();

  </script>
</body>

</html>